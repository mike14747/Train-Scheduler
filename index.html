<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- CDNs for jQuery, Popper.js and Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <!-- Link to the Firebase js -->
    <script src="https://www.gstatic.com/firebasejs/5.8.5/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <!-- moment.js reference -->
    <script src="js/moment.js"></script>

    <!-- include my bootstrap companion style sheet -->
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <title>Train Scheduler</title>
</head>

<body>

    <div class="container my-4">

        <header class="row border border-primary bg-primary px-4 py-2">
            <div>
                <h1 class="text-light m-0">Current Train Scheduler Header</h1>
                <button id="log_out" class="ml-auto" onclick="logOut()">Log Out</button>
            </div>

            <div id="log_in" class="bg-light ml-auto">
                <h6 class="bg-secondary text-light text-center p-2">Login<span class="small">... for access to delete
                        trains</span></h6>
                <div id="firebaseui-auth-container"></div>
                <div id="loader">Loading...</div>
            </div>
        </header>

        <div class="row border rounded border-primary my-4">
            <div class="col-12 bg-primary text-light py-2 px-4">
                <h5 class="m-0">Current Train Schedule</h5>
            </div>

            <div class="col-12">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Train Name</th>
                            <th>Destination</th>
                            <th>Frequency (min)</th>
                            <th>Next Arrival</th>
                            <th>Minutes Away</th>
                            <th><span id="delete_text">Delete</span></th>
                        </tr>
                    </thead>
                    <tbody id="trainTable">

                    </tbody>
                </table>
            </div>

        </div>

        <div class="row border rounded border-primary my-4">
            <div class="col-12 bg-primary text-light py-2 px-4">
                <h5 class="m-0">Add Train</h5>
            </div>

            <div class="col-12 py-4">
                <!---->
                <form id="add_train">
                    <div class="form-group">
                        <label for="train_name" class="mb-0">Train Name</label><span id="name_error"
                            class="ml-4 text-danger"></span>
                        <input id="train_name" type="text" class="form-control mt-2 train_name">
                    </div>

                    <div class="form-group">
                        <label for="destination" class="mb-0">Destination</label><span id="dest_error"
                            class="ml-4 text-danger"></span>
                        <input id="destination" type="text" class="form-control mt-2 destination">
                    </div>

                    <div class="form-group">
                        <label for="first_time" class="mb-0">First Train Time <span class="small">(hh:mm - military
                                time)</span></label><span id="time_error" class="ml-4 text-danger"></span>
                        <input id="first_time" type="text" class="form-control mt-2 first_time">
                    </div>

                    <div class="form-group">
                        <label for="frequency" class="mb-0">Frequency <span class="small">(in
                                minutes)</span></label><span id="freq_error" class="ml-4 text-danger"></span>
                        <input id="frequency" type="text" class="form-control mt-2 frequency">
                    </div>

                    <button id="submit_train" class="btn btn-primary" type="submit">Submit</button> <span
                        id="train_submitted" class="mx-4 my-2 p-2 border display_none">New train was submitted.</span>

                </form>

            </div>

        </div>

        <footer class="row border border-primary bg-primary justify-content-center px-4 py-2">
            <h6 class="text-light m-0">Current Footer</h6>
        </footer>

    </div>

    <!-- my javascript -->
    <script src="js/app.js"></script>
    <script src="js/login.js"></script>

    <script>
        firebase.auth().onAuthStateChanged(function (user) {
            if (user) {
                // user is signed in, so display the Logout button and hide the login div
                $("#log_in").hide();
                $("#log_out").show();
            } else {
                // user is not signed in, so hide the Logout button and show the login div
                $("#log_in").show();
                $("#log_out").hide();
            }
        });
    </script>


</body>

</html>